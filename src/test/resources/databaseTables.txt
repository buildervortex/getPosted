CREATE TABLE Language( language VARCHAR(100) NOT NULL UNIQUE, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY );
CREATE TABLE Category( category VARCHAR(100) NOT NULL UNIQUE, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY );
CREATE TABLE Skill( skill VARCHAR(250) NOT NULL UNIQUE, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY );
CREATE TABLE Country( country VARCHAR(100) NOT NULL UNIQUE, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY );
CREATE TABLE Author( email VARCHAR(50) NOT NULL UNIQUE, phoneNumber VARCHAR(20) NOT NULL UNIQUE, bio VARCHAR(500), password VARCHAR(550) NOT NULL, dob DATE NOT NULL, firstName VARCHAR(50) NOT NULL, middleName VARCHAR(50), lastName VARCHAR(50) NOT NULL, userName VARCHAR(50) NOT NULL, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY );
CREATE TABLE Publisher( address VARCHAR(250), webSite VARCHAR(250), firstName VARCHAR(50) NOT NULL, middleName VARCHAR(50), lastName VARCHAR(50) NOT NULL, email VARCHAR(50) NOT NULL UNIQUE, hardCopyPageCommissionForAuthor DECIMAL(10,2) NOT NULL DEFAULT 0.0, password VARCHAR(550) NOT NULL, hardCopyDiscount DECIMAL(10,2) NOT NULL DEFAULT 0.0, hardCopyPricePerPage DECIMAL(10,2) NOT NULL DEFAULT 0.0, softCopyCommission DECIMAL(10,2) NOT NULL DEFAULT 0.0, hardCopyPageCommission DECIMAL(10,2) NOT NULL DEFAULT 0.0, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY );
CREATE TABLE User( email VARCHAR(50) NOT NULL UNIQUE, password VARCHAR(550) NOT NULL, userName VARCHAR(50) NOT NULL, dob DATE NOT NULL, firstName VARCHAR(50) NOT NULL, middleName VARCHAR(50), lastName VARCHAR(50) NOT NULL, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY );
CREATE TABLE Publication( description VARCHAR(500), date DATE, size INT(40) NOT NULL DEFAULT 0, pdfPath VARCHAR(80) NOT NULL, softCopyPrice DECIMAL(10,2) NOT NULL DEFAULT 0.0, pageCount VARCHAR(20) NOT NULL DEFAULT 1, softCopyDiscount DECIMAL(10,2) NOT NULL DEFAULT 0.0, title VARCHAR(80) NOT NULL, publishedDate DATE, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY, categoryId INT(25), languageId INT(25), authorId INT(25), FOREIGN KEY(categoryId) REFERENCES Category(id), FOREIGN KEY(languageId) REFERENCES Language(id), FOREIGN KEY(authorId) REFERENCES Author(id) );
CREATE TABLE SearchTag( tagName VARCHAR(50) NOT NULL, publicationId INT(25) NOT NULL, PRIMARY KEY(tagName,publicationId), FOREIGN KEY(publicationId) REFERENCES Publication(id) );
CREATE TABLE Save( userId INT(25) NOT NULL, publicationId INT(25) NOT NULL, PRIMARY KEY(userId,publicationId), FOREIGN KEY(userId) REFERENCES User(id), FOREIGN KEY(publicationId) REFERENCES Publication(id) );
CREATE TABLE Inquiry( purchasedDate DATE NOT NULL, shippingAddress VARCHAR(150) NOT NULL, postalCode VARCHAR(20), purchasedTime TIME NOT NULL, contactName VARCHAR(50) NOT NULL, count INT(20) NOT NULL DEFAULT 1, country VARCHAR(20) NOT NULL, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY, publicationId INT(25) NOT NULL, userId INT(25) NOT NULL, publisherId INT(25) NOT NULL, FOREIGN KEY(publicationId) REFERENCES Publication(id), FOREIGN KEY(userId) REFERENCES User(id), FOREIGN KEY(publisherId) REFERENCES Publisher(id) );
CREATE TABLE PhoneNumber( phoneNumber VARCHAR(20) NOT NULL, inquiryId INT(25) NOT NULL, PRIMARY KEY(phoneNumber,inquiryId), FOREIGN KEY(inquiryId) REFERENCES Inquiry(id) );
CREATE TABLE Purchase( purchasedDate DATE NOT NULL, purchasedTime TIME NOT NULL, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY, userId INT(25) NOT NULL, publisherId INT(25) NOT NULL, publicationId INT(25) NOT NULL, FOREIGN KEY(userId) REFERENCES User(id), FOREIGN KEY(publisherId) REFERENCES Publisher(id), FOREIGN KEY(publicationId) REFERENCES Publication(id) );
CREATE TABLE IsInformed( notification VARCHAR(500) NOT NULL, notifiedDate DATE NOT NULL, notifiedTime TIME NOT NULL, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY, userId INT(25) NOT NULL, publisherId INT(25) NOT NULL, FOREIGN KEY(userId) REFERENCES User(id), FOREIGN KEY(publisherId) REFERENCES Publisher(id) );
CREATE TABLE Rates( value INT(4) NOT NULL DEFAULT 0, authorId INT(25) NOT NULL, userId INT(25) NOT NULL, PRIMARY KEY(authorId,userId), FOREIGN KEY(authorId) REFERENCES Author(id), FOREIGN KEY(userId) REFERENCES User(id) );
CREATE TABLE Request( requestedContent VARCHAR(500) NOT NULL, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY, authorId INT(25) NOT NULL, publisherId INT(25) NOT NULL, FOREIGN KEY(authorId) REFERENCES Author(id), FOREIGN KEY(publisherId) REFERENCES Publisher(id) );
CREATE TABLE IsNotifiedBy( notifications VARCHAR(500) NOT NULL, notifiedDate DATE NOT NULL, notifiedTime TIME NOT NULL, id INT(25) NOT NULL AUTO_INCREMENT PRIMARY KEY, authorId INT(25) NOT NULL, publisherId INT(25) NOT NULL, FOREIGN KEY(authorId) REFERENCES Author(id), FOREIGN KEY(publisherId) REFERENCES Publisher(id) );
CREATE TABLE Has( authorId INT(25) NOT NULL, skillId INT(25) NOT NULL, PRIMARY KEY(authorId,skillId), FOREIGN KEY(authorId) REFERENCES Author(id), FOREIGN KEY(skillId) REFERENCES Skill(id) );
CREATE TABLE Lives( authorId INT(25) NOT NULL, countryId INT(25) NOT NULL, PRIMARY KEY(authorId,countryId), FOREIGN KEY(authorId) REFERENCES Author(id), FOREIGN KEY(countryId) REFERENCES Country(id) );